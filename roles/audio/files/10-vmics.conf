context.modules = [
{
    name = libpipewire-module-filter-chain
    args = {
        node.name = "vmic-calls"
        node.description = "VMic for calls"
        media.name = "VMic for calls"
        filter.graph = {
            nodes = [
                {
                    type = ladspa
                    name = eq
                    plugin = /usr/lib/ladspa/mbeq_1197.so
                    label = mbeq
                    control = {
                        "50Hz gain (low shelving)" = -3.0
                        "100Hz gain" = -2.0
                        "156Hz gain" = -1.0
                        "220Hz gain" = -1.0
                        "311Hz gain" = 0.0
                        "440Hz gain" = 0.5
                        "622Hz gain" = 1.0
                        "880Hz gain" = 2.0
                        "1250Hz gain" = 2.5
                        "1750Hz gain" = 2.0
                        "2500Hz gain" = 1.5
                        "3500Hz gain" = 1.0
                        "5000Hz gain" = 0.0
                        "10000Hz gain" = -1.0
                        "20000Hz gain" = -2.0
                    }
                }
                {
                    type = ladspa
                    name = compressor
                    plugin = /usr/lib/ladspa/sc4_1882.so
                    label = sc4
                    control = {
                        "RMS/peak" = 0.5
                        "Attack time (ms)" = 15.0
                        "Release time (ms)" = 100.0
                        "Threshold level (dB)" = -20.0
                        "Ratio (1:n)" = 2.5
                        "Knee radius (dB)" = 5.0
                        "Makeup gain (dB)" = 10.0
                    }
                }
            ]
            links = [
                { output = "eq:Output" input = "compressor:Left input" }
            ]
            outputs = [ "compressor:Left output" ]
        }
        capture.props = {
            node.name = "capture.vmic_calls_chain"
            node.target = "alsa_input.usb-OmniVision_Technologies__Inc._USB_Camera-B4.09.24.1-01.pro-input-0"
            node.passive = true
            audio.channels = 1
            audio.position = [ MONO ]
            audio.rate = 16000
            audio.format = S16LE
        }
        playback.props = {
            node.name = "vmic_calls_chain"
            media.class = Audio/Source
            audio.channels = 1
            audio.position = [ MONO ]
            audio.rate = 16000
            audio.format = S16LE
        }
    }
},
{
    name = libpipewire-module-filter-chain
    args = {
        node.name = "vmic-assistant"
        node.description = "vmic-assistant"
        media.name = "VMic for voice assistant"
        filter.graph = {
            nodes = [
                {
                    type = ladspa
                    name = eq
                    plugin = /usr/lib/ladspa/mbeq_1197.so
                    label = mbeq
                    control = {
                        "50Hz gain (low shelving)" = -1.0
                        "100Hz gain" = 0.0
                        "156Hz gain" = 0.5
                        "220Hz gain" = 1.0
                        "311Hz gain" = 1.5
                        "440Hz gain" = 2.0
                        "622Hz gain" = 2.5
                        "880Hz gain" = 3.0
                        "1250Hz gain" = 3.0
                        "1750Hz gain" = 3.0
                        "2500Hz gain" = 3.5
                        "3500Hz gain" = 3.0
                        "5000Hz gain" = 1.0
                        "10000Hz gain" = -1.0
                        "20000Hz gain" = -2.0
                    }
                }
                {
                    type = ladspa
                    name = compressor
                    plugin = /usr/lib/ladspa/sc4_1882.so
                    label = sc4
                    control = {
                        "RMS/peak" = 0.5
                        "Attack time (ms)" = 10.0
                        "Release time (ms)" = 200.0
                        "Threshold level (dB)" = -15.0
                        "Ratio (1:n)" = 2.0
                        "Knee radius (dB)" = 6.0
                        "Makeup gain (dB)" = 10.0
                    }
                }
            ]
            links = [
                { output = "eq:Output" input = "compressor:Left input" }
            ]
            outputs = [ "compressor:Left output" ]
        }
        capture.props = {
            node.name = "capture.vmic_assistant_chain"
            node.target = "alsa_input.usb-OmniVision_Technologies__Inc._USB_Camera-B4.09.24.1-01.pro-input-0"
            node.passive = true
            audio.channels = 1
            audio.position = [ MONO ]
            audio.rate = 16000
            audio.format = S16LE
        }
        playback.props = {
            node.name = "vmic_assistant_chain"
            media.class = Audio/Source
            audio.channels = 1
            audio.position = [ MONO ]
            audio.rate = 16000
            audio.format = S16LE
        }
    }
}
]
