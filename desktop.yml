---
- name: Update local mashine
  hosts: local
  gather_facts: false
  environment:
    GNUPGHOME: /home/rean/.config/gnupg
  pre_tasks:
    - include: common/tasks/init_facts.yml is_chroot_param=False
  roles:
    - locale
    - users
    - network
    - packages_manager
    # update required for each machine
    - ssh
    - role: boot
      when: x86_64
    - swap
    - systemd_configure
    - time
    - role: font
      when: "'font' in roles.split(',')"
    - role: pkgcacheclean
      when: x86_64
    - role: docker
      when: "'docker' in roles.split(',')"
    - role: automount
      when: "'automount' in roles.split(',')"
    - hddtemp
    - repository
    - dotfiles
    - xorg
    - lightdm
    - virtualization
    - vs_code
    - ups
    - packages
    - clear
